<!DOCTYPE html>
<html>
    <head>
        <link href="../static/css/output.css" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.1.1.min.js"
            integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    </head>
    <body class="p-10 flex flex-col gap-10 bg-slate-100">
        <div class="w-full">
            <div class="w-fit mx-auto">
                <a class="w-fit h-fit" href="/">
                    <img class="h-20 w-auto" src="../static/logo-black.svg">
                </a>
            </div>
        </div>
        <div class="w-3/4 bg-gray-50 border-2 shadow-sm rounded mx-auto flex p-5 px-10 items-center">
            <div class="w-3/4 flex gap-10">
                <div>
                    <a id="profile_tag" class="text-2xl border-b-2 border-black border-opacity-0 duration-500  cursor-pointer hover:border-black hover:border-opacity-100"> 個人簡介 </a>
                </div>
                <div>
                    <a id="setting_tag" class="text-2xl border-b-2 border-black border-opacity-0 duration-500 cursor-pointer hover:border-black hover:border-opacity-100"> 設定 </a>
                </div>
            </div>
            <div class="w-1/4 flex justify-end">
                <div>
                    <a id="logout" class="text-2xl border-b-2 border-black border-opacity-0 duration-500 cursor-pointer hover:border-black hover:border-opacity-100"> 登出 </a>
                </div>
            </div>
        </div>
        <div id="profile" class="w-3/4 bg-gray-50 h-fit border-2 shadow-sm rounded p-10 flex gap-10 mx-auto">
            <div class="w-full flex flex-col gap-10">
                <div class="mx-auto">
                    <p class="text-4xl font-mono"> UserName </p>
                </div>
                <div class="h-96 w-96 p-5 bg-slate-200 mx-auto">
                    <img class="relative w-full h-auto left-1/2 top-1/2 -translate-x-[50%] -translate-y-[50%]" src="../static/logo-black.svg">
                </div>
            </div>
            <div class="border-l-2 border-slate-200"></div>
            <div class="w-full flex flex-col justify-start gap-10">
                <div>
                    <p class="text-2xl font-bold my-5"> 學校／機構 </p>
                    <p class="text-xl font-medium my-5"> </p>
                </div>
                <div>
                    <p class="text-2xl font-bold my-5"> 帳號類別 </p>
                    <p class="text-xl font-medium my-5"> </p>
                </div>
                <div>
                    <p class="text-2xl font-bold my-5"> 個人簡介 </p>
                    <textarea class="text-xl font-medium my-5 w-full overflow-hidden resize-none h-96 outline-none cursor-default" readonly></textarea>
                </div>
            </div>
        </div>
        <div id="setting" class="w-3/4 bg-white h-fit border-2 shadow-sm rounded p-10 flex gap-10 mx-auto">
            <div class="w-full flex flex-col gap-10">
                <div>
                    <p class="text-2xl font-bold my-5"> 更改圖片 </p>
                    <input class="w-full bg-slate-100 p-2 text-base px-4 border-2 border-gray-600 appearance-none resize-none overflow-y-hidden rounded focus:outline-none focus:border-orange-500 focus:bg-white" placeholder="圖片連結">
                </div>
                <div>
                    <p class="text-2xl font-bold my-5"> 學校／機構 </p>
                    <input class="w-full bg-slate-100 p-2 text-base px-4 border-2 border-gray-600 appearance-none resize-none overflow-y-hidden rounded focus:outline-none focus:border-orange-500 focus:bg-white" placeholder="盡可能輸入全名，例如請勿輸入北科，以國立臺北科技大學來取代">
                </div>
                <div>
                    <p class="text-2xl font-bold my-5"> 個人簡介修改 </p>
                    <textarea class="w-full h-[200px] bg-slate-100 p-2 text-base px-4 border-2 border-gray-600 appearance-none resize-none overflow-y-hidden rounded focus:outline-none focus:border-orange-500 focus:bg-white" placeholder="支援 mathjax，字數不得超過 200 字"></textarea>
                </div>
                <button class="bg-blue-700 w-full delay-50 p-2 hover:bg-blue-500 rounded text-white text-2xl"> 修改完成 </button>
            </div>
        </div>
    </body>
    <script>
        function allHidden(){
            let array = ["profile", "setting"]
            for(let i = 0; i < array.length; i++){
                let div = document.getElementById(array[i]);
                div.classList.add("hidden");
            }
        }
        function init(){
            
            allHidden();
            document.getElementById("profile").classList.remove("hidden");

            document.getElementById("profile_tag").addEventListener("click", () => {
                allHidden();
                document.getElementById("profile").classList.remove("hidden");
            })

            document.getElementById("setting_tag").addEventListener("click", () => {
                allHidden();
                document.getElementById("setting").classList.remove("hidden");
            })

        }
        init();
    </script>
    <script>
        document.getElementById("logout").addEventListener("click", () => {
            $.ajax({
                url: "/logout",
                type: "POST",
                success(data, status, xhr){
                    Swal.fire({
                        icon: 'success',
                        title: '已登出',
                        timer: 1500,
                        showConfirmButton: false,
                    }).then(() => {
                        window.location.href = "/"
                    })
                }
            });
        })
    </script>
</html>
