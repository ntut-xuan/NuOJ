{
    "openapi": "3.0.3",
    "info": {
        "version": "0.1.0",
        "description": "The Swagger Documenatation for development",
        "title": "NuOJ development API documentation"
    },
    "paths": {
        "/api/heartbeat": {
            "get": {
                "tags": [
                    "system"
                ],
                "summary": "The route for checking the heartbeat of the system.",
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    }
                }
            }
        },
        "/api/auth/login": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "The route for login.",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/login_requestbody"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "400": {
                        "$ref": "#/components/responses/400_incorrect_format"
                    },
                    "401": {
                        "description": "The mail verification enabled but mail is not verify.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The mail verification enabled but mail is not verify."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Incorrect account or password.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Incorrect account or password."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/register": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "The route for register.",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/register_requestbody"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "400": {
                        "$ref": "#/components/responses/400_incorrect_format"
                    },
                    "403": {
                        "description": "The email or the handle is repeated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The email or the handle is repeated."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "The email, the handle or the password is invalid.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Handle is invalid."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/oauth_info": {
            "get": {
                "tags": [
                    "auth"
                ],
                "summary": "The info of the OAuth.",
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    }
                }
            }
        },
        "/api/auth/verify_jwt": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "The route to verify the JWT cookie.",
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "403": {
                        "description": "The jwt is invalid.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "JWT is invalid."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/github_login": {
            "get": {
                "tags": [
                    "auth"
                ],
                "summary": "The rotue for GitHub OAuth.",
                "parameters": [
                    {
                        "name": "code",
                        "in": "query",
                        "description": "OAuth code.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK. It should redirect to the setup page to setup the handle or the index page."
                    },
                    "400": {
                        "$ref": "#/components/responses/400_absent_code"
                    },
                    "403": {
                        "description": "GitHub OAuth login failed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "GitHub OAuth login failed."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/google_login": {
            "get": {
                "tags": [
                    "auth"
                ],
                "parameters": [
                    {
                        "name": "error",
                        "in": "query",
                        "description": "Present if Google OAuth is error.",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "code",
                        "in": "query",
                        "description": "OAuth code.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "summary": "The route for Google OAuth.",
                "responses": {
                    "200": {
                        "description": "OK. It should redirect to the setup page to setup the handle or the index page."
                    },
                    "400": {
                        "$ref": "#/components/responses/400_absent_code"
                    },
                    "403": {
                        "description": "Google OAuth login failed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Google OAuth login failed."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/logout": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "The route for logout.",
                "responses": {
                    "200": {
                        "description": "OK.",
                        "content": {
                            "application/json":{
                                "schema":{
                                    "type": "object",
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "OK"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/verify_mail": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "The route to verify the email.",
                "parameters": [
                    {
                        "name": "code",
                        "in": "query",
                        "description": "The verification code.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/message_ok"
                                }
                            }
                        }
                    },
                    "400": {
                        "$ref": "#/components/responses/400_absent_code"
                    },
                    "422": {
                        "description": "Invalid code.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid code."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/setup_handle": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "The route to setup the handle.",
                "parameters": [
                    {
                        "name": "hs",
                        "in": "cookie",
                        "description": "The hs (handle-setup) cookie.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "example": "nuoj_test@nuoj.net"
                                    },
                                    "handle": {
                                        "type": "string",
                                        "example": "nuoj_me"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "400": {
                        "$ref": "#/components/responses/400_incorrect_format"
                    },
                    "401": {
                        "description": "HS cookie is invalid.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "HS cookie is invalid."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "The handle is repeated.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The handle is repeated."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Invalid handle.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid handle."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/resend_email": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "The route to resend the email.",
                "parameters": [
                    {
                        "name": "account",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "400": {
                        "description": "Account parameter is absent.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Account parameter is absent."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Mail verification is disabled.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Mail verification is disabled."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Account is absent.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Account is absent."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/profile/{handle}": {
            "get": {
                "summary": "The route to get the profile of the specific handle.",
                "tags": [
                    "profile"
                ],
                "parameters": [
                    {
                        "name": "handle",
                        "in": "path",
                        "description": "The specific handle.",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "403": {
                        "description": "Absent user.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Absent user."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "summary": "The route to modify the profile with specific handle.",
                "tags": [
                    "profile"
                ],
                "parameters": [
                    {
                        "name": "handle",
                        "in": "path",
                        "description": "The specific handle",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "school": {
                                        "type": "string",
                                        "example": "ntut"
                                    },
                                    "bio": {
                                        "type": "string",
                                        "example": "Hi I'm another bio."
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "400": {
                        "$ref": "#/components/responses/400_incorrect_format"
                    },
                    "401": {
                        "$ref": "#/components/responses/401_authentication_required"
                    },
                    "403": {
                        "description": "No permission to change the user's personal information.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No permission to change the user's personal information."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/profile/{handle}/avatar": {
            "get": {
                "summary": "The route to get the avatar of the specific handle.",
                "tags": [
                    "profile"
                ],
                "parameters": [
                    {
                        "name": "handle",
                        "in": "path",
                        "description": "The specific handle.",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK.",
                        "content": {
                            "image/*": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Absent user.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Absent user."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "summary": "The route to update the avatar of the specific handle.",
                "tags": [
                    "profile"
                ],
                "parameters": [
                    {
                        "name": "handle",
                        "in": "path",
                        "description": "The specific handle.",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "image/*": {
                            "schema": {
                                "type": "object",
                                "format": "binary"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "400": {
                        "description": "The payload has been forbidden by the server, or the account with specific handle is absent",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The payload is not the image."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/401_authentication_required"
                    },
                    "403": {
                        "description": "No permission to change the user's personal information.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No permission to change the user's personal information."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/problem": {
            "get": {
                "summary": "The route to get all the problem.",
                "tags": [
                    "problem"
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/problem_response"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "summary": "The route to add the problem.",
                "tags": [
                    "problem"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/problem_requestbody"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "401": {
                        "$ref": "#/components/responses/401_authentication_required"
                    },
                    "403": {
                        "$ref": "#/components/responses/403_permission_denied"
                    },
                    "422": {
                        "description": "Invalid time limit or memory limit, or the limit in the payload is reach the max limit.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid time limit or memory limit, or the limit in the payload is reach the max limit."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/problem/{problem_id}": {
            "get": {
                "summary": "The route to get the problem.",
                "tags": [
                    "problem"
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/problem_response"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid problem ID or problem is absent.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid problem ID."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "No permission to access the problem.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No permission to access the problem."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "summary": "The route to update the problem",
                "tags": [
                    "problem"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/problem_requestbody"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "400": {
                        "description": "The problem with specific problem ID is absent, the format of the payload is invalid, or the problem ID is invalid.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The problem with specific problem ID is absent, or the problem ID is invalid."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/401_authentication_required"
                    },
                    "403": {
                        "$ref": "#/components/responses/403_permission_denied"
                    },
                    "422": {
                        "description": "Invalid time limit or memory limit, or the limit in the payload is reach the max limit.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid time limit or memory limit, or the limit in the payload is reach the max limit."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "summary": "The route to delete the problem.",
                "tags": [
                    "problem"
                ],
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "400": {
                        "description": "Invalid problem ID or the problem with specific ID is absent.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid problem ID or the problem with specific ID is absent."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401":{
                        "$ref": "#/components/responses/401_authentication_required"
                    }
                }
            }
        },
        "/api/problem/{problem_id}/code": {
            "get": {
                "summary": "Get the codes of the specific problem.",
                "tags": ["problem"],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/code_response"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/problem/{problem_id}/solution": {
            "get": {
                "summary": "Get the solutions of the specific problem.",
                "tags": ["problem"],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "content": {
                                            "type": "string",
                                            "example": "Some code here."
                                        },
                                        "language": {
                                            "type": "string",
                                            "example": "C++14",
                                            "description": "See avaliable language."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/401_authentication_required"
                    },
                    "403": {
                        "$ref": "#/components/responses/403_target_absent"
                    }
                }
            },
            "post": {
                "summary": "Setup or modified the solution of the specific problem.",
                "tags": ["problem"],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "content": {
                                        "type": "string",
                                        "example": "Some code here."
                                    },
                                    "language": {
                                        "type": "string",
                                        "example": "C++14",
                                        "description": "See avaliable language."
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "400": {
                        "$ref": "#/components/responses/400_incorrect_format"
                    },
                    "401": {
                        "$ref": "#/components/responses/401_authentication_required"
                    },
                    "403": {
                        "$ref": "#/components/responses/403_target_absent"
                    }
                }
            }
        },
        "/api/problem/{problem_id}/checker": {
            "get": {
                "summary": "Get the checker of the problem",
                "tags": ["problem"],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "type": {
                                            "type": "string",
                                            "example": "String Comparator"
                                        },
                                        "content": {
                                            "type": "string",
                                            "example": "Some code here."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "$ref": "#/components/responses/401_authentication_required"
                    },
                    "403": {
                        "$ref": "#/components/responses/403_target_absent"
                    }
                }
            },
            "post": {
                "summary": "Setup or modified the checker of the problem",
                "tags": ["problem"],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "example": "String Comparator"
                                    },
                                    "content": {
                                        "type": "string",
                                        "example": "Some code here."
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "401": {
                        "$ref": "#/components/responses/401_authentication_required"
                    },
                    "403": {
                        "$ref": "#/components/responses/403_target_absent"
                    }
                }
            }
        },
        "/api/submit": {
            "post": {
                "summary": "The route to submit the code.",
                "tags": ["submit"],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/submit_requestbody"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "400": {
                        "$ref": "#/components/responses/400_incorrect_format"
                    },
                    "401": {
                        "$ref": "#/components/responses/401_authentication_required"
                    },
                    "403": {
                        "description": "The problem with specific ID is unavailable.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The problem with specific ID is unavailable."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "The problem ID is invalid.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The problem with spcific ID is invalid."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/submission": {
            "get": {
                "summary": "The route for get all the submission data.",
                "tags": ["submission"],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/submission_response"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/submission/{submission_id}": {
            "get": {
                "summary": "The route for get specific data of submission.",
                "tags": ["submission"],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/submission_response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/submission/{submission_id}/code": {
            "get": {
                "summary": "The route for get the code of the specific submission.",
                "tags": ["submission"],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/code_response"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/submission/{submission_id}/rejudge": {
            "post": {
                "summary": "The route for rejudge the specific submission.",
                "tags": ["submission"],
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "401": {
                        "$ref": "#/components/responses/401_authentication_required"
                    },
                    "403": {
                        "$ref": "#/components/responses/403_permission_denied"
                    }
                }
            }
        },
        "/api/submission/{problem_id}": {
            "get": {
                "summary": "The route for get the submissions of the specific problem.",
                "tags": ["submission"],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/submission_response"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/result/{submission_id}": {
            "post": {
                "summary": "Add the result from judger.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "submission_id",
                        "description": "The submissiod ID to specific the submission.",
                        "required": true,
                        "example": "32236778",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "tags": ["result"],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/result_requestbody"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200_message_ok"
                    },
                    "400": {
                        "$ref": "#/components/responses/400_incorrect_format"
                    },
                    "401": {
                        "$ref": "#/components/responses/401_authentication_required"
                    },
                    "403": {
                        "$ref": "#/components/responses/403_target_absent"
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "heartbeat_response": {
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "example": "OK"
                    }
                }
            },
            "login_requestbody": {
                "type": "object",
                "properties": {
                    "account": {
                        "type": "string",
                        "description": "The login account.",
                        "example": "nuoj_test"
                    },
                    "password": {
                        "type": "string",
                        "description": "The password of the account.",
                        "example": "some_password"
                    }
                }
            },
            "register_requestbody": {
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string",
                        "example": "nuoj_test@nuoj.net"
                    },
                    "handle": {
                        "type": "string",
                        "example": "nuoj_user"
                    },
                    "password": {
                        "type": "string",
                        "example": "nuoj_password"
                    }
                }
            },
            "oauth_info_response": {
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "example": "OK"
                    },
                    "github_oauth_url": {
                        "type": "string",
                        "description": "Should be present if GitHun OAuth enabled.",
                        "example": "https://github.com/login/oauth/authorize?client_id=..."
                    },
                    "google_oauth_url": {
                        "type": "string",
                        "description": "Should be present if Google OAuth enabled.",
                        "example": "https://accounts.google.com/o/oauth2/v2/auth"
                    }
                }
            },
            "profile_handle_response": {
                "type": "object",
                "properties": {
                    "user_uid": {
                        "type": "string",
                        "example": "8d828772-50a5-4496-8114-0bf64132c125"
                    },
                    "email": {
                        "type": "string",
                        "example": "nuoj_test@nuoj.net"
                    },
                    "school": {
                        "type": "string",
                        "example": "nuoj_school"
                    },
                    "bio": {
                        "type": "string",
                        "example": "Hi I'm testing account."
                    },
                    "handle": {
                        "type": "string",
                        "example": "nuoj_test"
                    },
                    "role": {
                        "type": "integer",
                        "example": 0
                    }
                }
            },
            "message_ok": {
                "type": "object",
                "properties": {
                    "message": {
                        "type": "string",
                        "example": "OK."
                    }
                }
            },
            "problem_response": {
                "type": "object",
                "properties": {
                    "header": {
                        "type": "object",
                        "properties": {
                            "problem_pid": {
                                "type": "string",
                                "example": "66570e6a-dd25-4461-8af7-d51aacba3c02"
                            },
                            "title": {
                                "type": "string",
                                "example": "Example Problem"
                            },
                            "time_limit": {
                                "type": "integer",
                                "description": "The time limit in seconds.",
                                "example": 5
                            },
                            "memory_limit": {
                                "type": "integer",
                                "description": "The memory limit in kilobytes.",
                                "example": 131072
                            }
                        }
                    },
                    "content": {
                        "type": "object",
                        "properties": {
                            "description": {
                                "type": "string",
                                "example": "Nulla quis ad fugiat ullamco sit eu culpa laboris nisi nostrud cupidatat mollit."
                            },
                            "input_description": {
                                "type": "string",
                                "example": "Aliquip est commodo dolore laborum tempor minim enim culpa commodo qui consectetur."
                            },
                            "output_description": {
                                "type": "string",
                                "example": "Sit excepteur et irure laboris cillum anim aliqua laborum."
                            },
                            "note": {
                                "type": "string",
                                "example": "Laboris deserunt commodo dolore eu officia amet veniam tempor est duis do adipisicing."
                            }
                        }
                    },
                    "author": {
                        "type": "object",
                        "properties": {
                            "user_uid": {
                                "type": "string",
                                "example": "8d828772-50a5-4496-8114-0bf64132c125"
                            },
                            "handle": {
                                "type": "string",
                                "example": "test_account"
                            }
                        }
                    }
                }
            },
            "problem_requestbody": {
                "type": "object",
                "properties": {
                    "header": {
                        "type": "object",
                        "properties": {
                            "title": {
                                "type": "string",
                                "example": "Example Problem"
                            },
                            "time_limit": {
                                "type": "integer",
                                "description": "The time limit in seconds.",
                                "example": 5
                            },
                            "memory_limit": {
                                "type": "integer",
                                "description": "The memory limit in kilobytes.",
                                "example": 131072
                            }
                        }
                    },
                    "content": {
                        "type": "object",
                        "properties": {
                            "description": {
                                "type": "string",
                                "example": "Nulla quis ad fugiat ullamco sit eu culpa laboris nisi nostrud cupidatat mollit."
                            },
                            "input_description": {
                                "type": "string",
                                "example": "Aliquip est commodo dolore laborum tempor minim enim culpa commodo qui consectetur."
                            },
                            "output_description": {
                                "type": "string",
                                "example": "Sit excepteur et irure laboris cillum anim aliqua laborum."
                            },
                            "note": {
                                "type": "string",
                                "example": "Laboris deserunt commodo dolore eu officia amet veniam tempor est duis do adipisicing."
                            }
                        }
                    }
                }
            },
            "submit_requestbody": {
                "type": "object",
                "properties": {
                    "code": {
                        "type": "string",
                        "example": "print('Hello World')"
                    },
                    "language": {
                        "type": "string",
                        "example": "C++14 (g++)"
                    },
                    "problem_id": {
                        "type": "integer",
                        "example": 1
                    }
                }
            },
            "submission_response": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "date": {
                        "type": "string",
                        "format": "date",
                        "description": "ISO8601 Date Format",
                        "example": "20230705T235853+0800"
                    },
                    "user": {
                        "type": "object",
                        "properties": {
                            "user_uid": {
                                "type": "integer",
                                "example": "8d828772-50a5-4496-8114-0bf64132c125"
                            },
                            "handle": {
                                "type": "string",
                                "example": "ntut-xuan"
                            },
                            "email": {
                                "type": "string",
                                "example": "ntut-xuan"
                            }
                        }
                    },
                    "problem": {
                        "type": "string",
                        "example": "Hello World"
                    },
                    "compiler": {
                        "type": "string",
                        "example": "C++14"
                    },
                    "verdict": {
                        "type": "object",
                        "properties": {
                            "verdict": {
                                "type": "string",
                                "example": "Wrong Answer"
                            },
                            "time": {
                                "type": "integer",
                                "description": "In milliseconds",
                                "example": 1500
                            },
                            "memory": {
                                "type": "integer",
                                "description": "In kilobytes",
                                "example": "131072"
                            }
                        }
                    }
                }
            },
            "code_response": {
                "type": "object",
                "properties": {
                    "submission_id": {
                        "type": "string",
                        "example": "66783329"
                    },
                    "user_uid": {
                        "type": "string",
                        "example": "8d828772-50a5-4496-8114-0bf64132c125"
                    },
                    "language": {
                        "type": "string",
                        "example": "Python 3.11"
                    },
                    "content": {
                        "type": "string",
                        "example": "print('Hello World')"
                    }
                }
            },
            "result_requestbody": {
                "type": "object",
                "properties": {
                    "tracker_id": {
                        "type": "string",
                        "example": "9910eff8-ecd1-4ded-877f-b1b2d53bed85"
                    },
                    "verdict": {
                        "type": "string",
                        "example": "Accepted"
                    },
                    "failed_comment": {
                        "type": "object",
                        "properties": {
                            "failed_testcase_index": {
                                "type": "integer",
                                "example": 5
                            }
                        }
                    },
                    "usage": {
                        "type": "object",
                        "properties": {
                            "memory_usage": {
                                "type": "integer",
                                "description": "In kilobytes.",
                                "example": "131072"
                            },
                            "time_usage": {
                                "type": "integer",
                                "description": "In milliseconds.",
                                "example": "1312"
                            }
                        }
                    }
                }
            }
        },
        "responses": {
            "200_message_ok": {
                "description": "OK.",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/message_ok"
                        }
                    }
                }
            },
            "400_incorrect_format": {
                "description": "The format of the payload is incorrect.",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "The format of the payload is incorrect."
                                }
                            }
                        }
                    }
                }
            },
            "400_absent_code": {
                "description": "Absent code.",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "Absent code."
                                }
                            }
                        }
                    }
                }
            },
            "401_authentication_required": {
                "description": "Authentication required.",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "Authentication required."
                                }
                            }
                        }
                    }
                }
            },
            "403_permission_denied": {
                "description": "Permission denied.",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "Permission denied."
                                }
                            }
                        }
                    }
                }
            },
            "403_target_absent": {
                "description": "Absent target.",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "Absent target."
                                }
                            }
                        }
                    }
                }
            }
        }

    }
}